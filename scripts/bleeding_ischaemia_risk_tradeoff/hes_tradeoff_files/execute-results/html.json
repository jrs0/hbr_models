{
  "hash": "6879fb142a551b3e9a81f937bd86f708",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Bleeding/Ischaemia Risk Trade-off Models\nproject:\n  output-dir: _output\nexecute:\n  echo: false\n  warning: false\nformat:\n  html: default\n  pdf:\n    keep-tex: true\nengine: jupyter\nfig-format: png\nbibliography: references.bib\ncsl: citation_style.csl\ngeometry:\n  - top=15mm\n  - left=15mm\n  - heightrounded\n---\n\n\n\n# Summary\n\n\n\nThis document contains the results of models for bleeding and ischaemia risk in heart attack patients, developed using the HES \\(manual code groups\\) dataset. Table 1 shows a summary of the performance of the models for bleeding and ischaemia across all models and datasets. \n\nThe dataset contains 55222 index events, defined as acute coronary syndromes (ACS) or percutaneous coronary intervention (PCI) procedures. The ACS definition has been validated to achieve at least 70% positive predictive value for identifying all myocardial infarction (MI), and distinguishing ST-segment elevation MI from non-ST-segment MI [@biobankdefinitions]. Index events span a date range from 2006\\-02\\-23 to 2022\\-08\\-30.\n\nModels for bleeding are trained using an outcome defintion that has been verified to identify major bleeding with positive predicted value (PPV) of 88% [@al2015identifying]. Ischaemia models are trained on a 2-point major adverse cardiac (MACE) definition including acute myocardial infarction and stroke [@hussain2018association], chosen because the components have been validated in administrative databases [@juurlink2006canadian; @kokotailo2005coding].\n\n\\begin{table}[h]\n\\caption{HES (manual code groups)}\n\\begin{tabular}{llrrr}\n\\toprule\nOutcome & Model & ROC AUC & Cal. Error & Instability \\\\\n\\midrule\nBleeding & Logistic Regression & 0.71 & 0.01 & 0.05 \\\\\nAmi Or Stroke & Logistic Regression & 0.76 & 0.01 & 0.04 \\\\\nBleeding & Truncated Svd + Logistic Regression & 0.71 & 0.01 & 0.05 \\\\\nAmi Or Stroke & Truncated Svd + Logistic Regression & 0.76 & 0.01 & 0.03 \\\\\n\\bottomrule\n\\end{tabular}\n\\end{table}\n\n\n\nIn addition to the area under the receiver operating characteristic curve, models are assessed according to their stability and calibration. Instability in Table 1 is the average of the relative error between the model prediction and the predictions from other models developed on bootstrapped training sets [@riley2022stability]. It corresponds to the variation in the probability-stability plots in the document. A lower value means that bootstrapped models tend to agree with each other on the risk of adverse outcome for each patient. \n\nCalibration error is the average of the expected calibration error [@nixon2019measuring] across the model and its bootstrapped variants. It corresponds to how well the calibration-stability plots in this document lie along a straight line. A value closer to zero means that the risk predictions from the model tend to agree with the observed proportions of patients who do in fact have the adverse outcome.\n\n::: {#db954b65 .cell execution_count=4}\n\n::: {.cell-output .cell-output-display}\nFor the prediction of bleeding risk, logistic regression has the highest area under the ROC curve at 0.7086822846867369, logistic regression has the best calibration (error = 0.005150196705256443), and logistic regression has the highest stability (instability = 0.050249008987068994).\n:::\n\n::: {.cell-output .cell-output-display}\nFor the prediction of AMI or stroke risk, logistic regression has the highest area under the ROC curve at 0.7086822846867369, logistic regression has the best calibration (error = 0.005150196705256443), and logistic regression has the highest stability (instability = 0.050249008987068994).\n:::\n:::\n\n\n# Introduction\n\n\n \n# Literature\n\nInclude\n\n\n{{< pagebreak >}}\n# Models\n\nDataset description here.\\\n{{< pagebreak >}}\n\n## Logistic Regression\n\n### Bleeding\n![](hes_tradeoff_files/figure-html/cell-6-output-5.png){}\n\n\n![](hes_tradeoff_files/figure-html/cell-6-output-7.png){}\n\n### Ami Or Stroke\n![](hes_tradeoff_files/figure-html/cell-6-output-9.png){}\n\n\n![](hes_tradeoff_files/figure-html/cell-6-output-11.png){}\n{{< pagebreak >}}\n\n## Truncated Svd + Logistic Regression\n\n### Bleeding\n![](hes_tradeoff_files/figure-html/cell-6-output-15.png){}\n\n\n![](hes_tradeoff_files/figure-html/cell-6-output-17.png){}\n\n### Ami Or Stroke\n![](hes_tradeoff_files/figure-html/cell-6-output-19.png){}\n\n\n![](hes_tradeoff_files/figure-html/cell-6-output-21.png){}\n\n\n## Risk Trade-off Model\n\n# Discussion\n\n# Conclusion\n\n",
    "supporting": [
      "hes_tradeoff_files\\figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}